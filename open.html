<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Fichier CSV ouvert</title>
</head>
<body>
  <h1>CSV reÃ§u ðŸ“‚</h1>
  <p id="file-name">Nom du fichier : ...</p>
  <pre id="file-content">Contenu du fichier : ...</pre>

  <script>
    if ('launchQueue' in window && 'files' in LaunchParams.prototype) {
      launchQueue.setConsumer(async (launchParams) => {
        if (!launchParams.files.length) {
          return;
        }

        const fileHandle = launchParams.files[0];
        const file = await fileHandle.getFile();

        document.getElementById('file-name').textContent = "Nom du fichier : " + file.name;

        const text = await file.text();
        document.getElementById('file-content').textContent = text;
      });
    } else {
      document.body.innerHTML = "<h2>ðŸš« DÃ©solÃ©, File Handling API n'est pas supportÃ©e dans ce navigateur.</h2>";
    }
  </script>
</body>
</html>
